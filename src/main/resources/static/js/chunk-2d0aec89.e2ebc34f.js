(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aec89"],{"0c11":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"crumbs"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[o("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 权限管理")])],1)],1),o("div",{staticClass:"container"},[o("el-button",{attrs:{type:"primary"},on:{click:e.createGroup}},[e._v("新建分组")]),o("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.tableData,stripe:""}},[o("el-table-column",{attrs:{type:"index",width:"120",index:e.indexMethod}}),o("el-table-column",{attrs:{prop:"groupName",label:"用户组",width:"120"}}),o("el-table-column",{attrs:{prop:"pagePermission",label:"页面权限",width:"400"}}),o("el-table-column",{attrs:{prop:"groupPermission",label:"权限名"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),o("el-dialog",{staticStyle:{height:"1000px"},attrs:{title:"编辑分组",visible:e.centerDialogVisible,width:"30%"},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[o("el-form",{attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"用户组名","label-width":e.formLabelWidth}},[o("el-input",{staticStyle:{width:"85%"},attrs:{autocomplete:"off"},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1),o("el-form-item",{attrs:{label:"用户权限","label-width":e.formLabelWidth}},[o("el-checkbox-group",{on:{change:e.changePermissions},model:{value:e.form.groupPermission,callback:function(t){e.$set(e.form,"groupPermission",t)},expression:"form.groupPermission"}},[o("el-checkbox",{attrs:{label:"预览"}}),o("el-checkbox",{attrs:{label:"打印"}}),o("el-checkbox",{attrs:{label:"上传"}}),o("el-checkbox",{attrs:{label:"下载"}}),o("el-checkbox",{attrs:{label:"删除"}}),o("el-checkbox",{attrs:{label:"检索"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.confimUpdate}},[e._v("确 定")])],1)],1),o("el-dialog",{staticStyle:{height:"1000px"},attrs:{title:"新增分组",visible:e.DialogVisible,width:"40%"},on:{"update:visible":function(t){e.DialogVisible=t}}},[o("el-form",{attrs:{model:e.userGroup}},[o("el-form-item",{attrs:{label:"用户组名","label-width":e.formLabelWidth}},[o("el-input",{staticStyle:{width:"85%"},attrs:{autocomplete:"off"},model:{value:e.userGroup.groupName,callback:function(t){e.$set(e.userGroup,"groupName",t)},expression:"userGroup.groupName"}})],1),o("el-form-item",{attrs:{label:"页面权限","label-width":e.formLabelWidth}},[o("el-checkbox-group",{model:{value:e.userGroup.pagePermission,callback:function(t){e.$set(e.userGroup,"pagePermission",t)},expression:"userGroup.pagePermission"}},[o("el-checkbox",{attrs:{label:"文件管理"}}),o("el-checkbox",{attrs:{label:"用户管理"}}),o("el-checkbox",{attrs:{label:"权限管理"}}),o("el-checkbox",{attrs:{label:"日志管理"}}),o("el-checkbox",{attrs:{label:"标签管理"}}),o("el-checkbox",{attrs:{label:"机构管理"}}),o("el-checkbox",{attrs:{label:"文件上传"}})],1)],1),o("el-form-item",{attrs:{label:"用户权限","label-width":e.formLabelWidth}},[o("el-checkbox-group",{on:{change:e.choosePermissions},model:{value:e.userGroup.groupPermission,callback:function(t){e.$set(e.userGroup,"groupPermission",t)},expression:"userGroup.groupPermission"}},[o("el-checkbox",{attrs:{label:"预览"}}),o("el-checkbox",{attrs:{label:"打印"}}),o("el-checkbox",{attrs:{label:"上传"}}),o("el-checkbox",{attrs:{label:"下载"}}),o("el-checkbox",{attrs:{label:"删除"}}),o("el-checkbox",{attrs:{label:"检索"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.DialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.confimCreateUser}},[e._v("确 定")])],1)],1)],1)])},s=[],i=(o("28a5"),o("56d7")),a={inject:["reload"],data:function(){return{DialogVisible:!1,formLabelWidth:"120px",checkList:["复选框 A"],centerDialogVisible:!1,tableData:[],form:{groupName:"",groupPermission:[],pagePermission:[]},userGroup:{groupName:"",groupPermission:[],pagePermission:[]}}},methods:{createGroup:function(){this.DialogVisible=!0},indexMethod:function(e){return e+1},handleEdit:function(e,t){console.log(t);var o=t.groupPermission.split(",");console.log(o),this.form.groupName=t.groupName,this.form.groupPermission=o,this.centerDialogVisible=!0},getallUserGroup:function(){var e=this;Object(i["postJsonRequest"])("/api/getAllUserGroup").then(function(t){console.log(t.data.data),e.tableData=t.data.data}).catch(function(e){})},handleDelete:function(e,t){var o=this;console.log(t),Object(i["postJsonRequest"])("/api/deleteUserGroup",t).then(function(e){200==e.data.code&&(o.open2(e.data.msg),o.reload())}).catch(function(e){})},changePermissions:function(e){var t="";return t},choosePermissions:function(){},confimUpdate:function(){var e=this;console.log(this.form);for(var t="",o=0;o<this.form.groupPermission.length;o++)o==this.form.groupPermission.length-1?t+=this.form.groupPermission[o]:t=t+this.form.groupPermission[o]+",";var r={groupName:this.form.groupName,groupPermission:t};Object(i["postJsonRequest"])("/api/updateUserGroup",r).then(function(t){console.log(t),200==t.data.code&&(e.open2(t.data.msg),e.reload())}).catch(function(e){}),this.centerDialogVisible=!1},confimCreateUser:function(){for(var e=this,t=this.userGroup.groupPermission,o="",r=0;r<t.length;r++)r==t.length-1?o+=t[r]:o=o+t[r]+",";for(var s="",a=0;a<this.userGroup.pagePermission.length;a++)a==this.userGroup.pagePermission.length-1?s+=this.userGroup.pagePermission[a]:s=s+this.userGroup.pagePermission[a]+";";console.log(s);var l={groupName:this.userGroup.groupName,groupPermission:o,pagePermission:s};Object(i["postJsonRequest"])("/api/addUserGroup",l).then(function(t){console.log(t),200===t.data.code&&(e.open2(t.data.msg),e.reload())}).catch(function(e){}),this.DialogVisible=!1},open2:function(e){this.$message({message:e,type:"success"})}},mounted:function(){this.getallUserGroup()}},l=a,n=o("2877"),c=Object(n["a"])(l,r,s,!1,null,"74aaa63e",null);t["default"]=c.exports}}]);